'use strict';var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var LoadStyler=function(){function a(b){_classCallCheck(this,a),this.preloader=void 0,this.blender=void 0,this.ajaxloader=void 0,this.preCacheLoader=void 0,this.pageLeaveLinks=this._retrievePageLinks(b)}return _createClass(a,[{key:'applyLoaderTransition',value:function applyLoaderTransition(){try{this._applyPreLoader(),this._applyPreCashLoader()}catch(b){console.warn('LoaderTransition could not be applied.\nFollowing error was thrown inside the class: '),console.error(b);try{console.warn('The LoadStyler tries to suppress possible-added hardcoded/static html items now...'),$('#LoadStyler_Preloader').css('display','none'),$('#LoadStyler_PrecacheLoader').css('display','none'),console.warn('success!')}catch(c){console.warn('Hiding the html hardcoded LoadStyler-Elements failed!')}}}},{key:'applyPageTransition',value:function applyPageTransition(){try{this.applyLoaderTransition(),this._applyLoadTransitionBlender()}catch(b){console.warn('PageTransition could not be applied.\nFollowing error was thrown inside the class: '),console.error(b);try{console.warn('The LoadStyler tries to suppress possible-added hardcoded/static html items now...'),$('#LoadStyler_Blender').css('display','none'),$('#LoadStyler_Preloader').css('display','none'),$('#LoadStyler_PrecacheLoader').css('display','none'),console.warn('success!')}catch(c){console.warn('Hiding the html hardcoded LoadStyler-Elements failed!')}}}},{key:'styleAjaxLoadsSimple',value:function styleAjaxLoadsSimple(){var b=this;void 0===b.preloader&&b._selectPreloader(),$(document).ajaxStart(function(){b.preloader.fadeIn()}),$(document).ajaxComplete(function(){b.preloader.fadeOut()})}},{key:'styleAjaxLoads',value:function styleAjaxLoads(b){console.info('\n\n------ styleAjaxLoads()-----'),console.info('The given parameter is:'),console.info(b);var c=this;try{c._selectAjaxLoader(),b.forEach(function(d){return 0===d.target.length?console.log('There is no Element in your target selection: '+d.target):0===d.source.length?console.log('There is no Element in your source selection: '+d.source):void(d.target.css({position:'relative'}),d.source.click(function(){console.info('\n\nClick event test'),d.target.append(c.ajaxloader),c.ajaxloader.fadeIn()}))})}catch(d){return console.warn('Something went wrong inside styleAjaxLoads. Ajax Style will not be applied. The error is: '),void console.error(d)}$(document).ajaxComplete(function(){console.debug('LoadStyler: Ajax stop detected...'),c.ajaxloader.fadeOut()})}},{key:'_applyPreLoader',value:function _applyPreLoader(){var b=this;this._selectPreloader(),$(window).on('load',function(){b.preloader.delay(350).fadeOut('slow'),$('body').delay(350).css({overflow:'visible'})})}},{key:'_applyPreCashLoader',value:function _applyPreCashLoader(){var b=this;this._selectPrecacheLoader(),this.pageLeaveLinks.click(function(){b.preCacheLoader.fadeIn()})}},{key:'_applyLoadTransitionBlender',value:function _applyLoadTransitionBlender(){var b=this;this._selectBlender(),b.blender.show(),$(window).on('load',function(){b.blender.delay(350).fadeOut('slow'),$('body').delay(350).css({overflow:'visible'})}),b.pageLeaveLinks.click(function(c){c.preventDefault();var d=$(this).attr('href');return b.blender.fadeIn(300,function(){document.location.href=d}),!1})}},{key:'_selectPreloader',value:function _selectPreloader(){var b=this,c=$('#LoadStyler_Preloader');if(0<c.length)return b.preloader=c;var d=$('<div id="LoadStyler_Preloader"></div>');return $('body').prepend(d),'auto'===d.css('z-index')&&'fixed'!==d.css('position')&&d.css({border:'16px solid #f3f3f3',borderRadius:'50%',borderTop:'16px solid #3498db',width:'120px',height:'120px','-webkit-animation':'spin 2s linear infinite',animation:'spin 2s linear infinite',position:'fixed',margin:'auto',top:0,right:0,bottom:0,left:0,zIndex:101}),b.preloader=d}},{key:'_selectBlender',value:function _selectBlender(){var b=this,c=$('#LoadStyler_Blender');return 0<c.length?b.blender=c:(c=$('<div id="LoadStyler_Blender"></div>'),$('body').prepend(c),'auto'===c.css('z-index')&&'fixed'!==c.css('position')&&c.css({position:'fixed',zIndex:100,width:'100%',height:'100%',backgroundColor:'black',opacity:1,display:'none'}),b.blender=c)}},{key:'_selectAjaxLoader',value:function _selectAjaxLoader(){var b=this,c=$('#LoadStyler_AjaxLoader');return 0<c.length?b.ajaxloader=c:(c=$('<div id="LoadStyler_AjaxLoader"></div>'),$('body').prepend(c),'auto'===c.css('z-index')&&c.css({border:'8px solid #f3f3f3',borderRadius:'50%',borderTop:'8px solid #3498db',width:'60px',height:'60px','-webkit-animation':'spin 2s linear infinite',animation:'spin 2s linear infinite',position:'absolute',margin:'auto',top:'45%',left:'45%',zIndex:101,display:'none'}),b.ajaxloader=c)}},{key:'_selectPrecacheLoader',value:function _selectPrecacheLoader(){var b=this,c=$('#LoadStyler_PrecacheLoader');return 0<c.length?b.preCacheLoader=c:(c=$('<div id="LoadStyler_PrecacheLoader"></div>'),$('body').prepend(c),'auto'===c.css('z-index')&&'fixed'!==c.css('position')&&c.css({border:'16px solid #f3f3f3',borderRadius:'50%',borderTop:'16px solid #3498db',width:'120px',height:'120px','-webkit-animation':'spin 2s linear infinite',animation:'spin 2s linear infinite',position:'fixed',margin:'auto',top:0,right:0,bottom:0,left:0,zIndex:101}),b.preCacheLoader=c)}},{key:'_retrievePageLinks',value:function _retrievePageLinks(b){if(void 0===b)try{return this._filterPageLeaveLinks()}catch(c){return console.warn(c.name+': There was an error at the custom filtering for pageLeave links, instead returning an empty array --> will cause an error. No pagetransition on leave applied. Consider giving the specific links to the constructor.'),[]}else return b}},{key:'_filterPageLeaveLinks',value:function _filterPageLeaveLinks(){var b=this,c=$('a').not($('.dropdown')).not($('.dropdown-toggle')).not(function(){return void 0===$(this).attr('href')||2>$(this).attr('href').length||-1!==$(this).attr('href').indexOf('#')});return b.pageLeaveLinks=c}}]),a}();